



<section class="cardInfoColorSite">
  <div class="col-12">
    <div class="row">
      <div class="col-12 col-lg-6  cardInfo">
        
          <div class="row cardHeader">

              <div class=" align-items-baseline  d-flex  px-3 ">
                  <p class="m-0 px-2 user-circle"><i class="fa  fa-address-card" aria-hidden="true"></i></p>
                  <h5 class="headUser titleHover">Personal Data</h5>
              </div>
              

          
      </div>
        <div class="row cardBody">
       
          <div class="col-8 left-part ">
            <div class="container">
             
               
                  <h5 class="dataUser">Type: {{typeUser}}</h5>
  
                  <h5 class="dataUser">
                      UserName  : {{Username}}
                      <i class="fa fa-pencil " aria-hidden="true" data-toggle="modal" data-target="#ChangeUserName"></i>
                  </h5>
    
                  <h5 class="dataUser" >
                        E-Mail  :   {{mail}}
                  </h5>
            </div> 

          </div>
          <div class="col-4 ">
            <div class="divimgPro" aria-hidden="true" data-toggle="modal" (click)="GetImage()" data-target="#ChangeProfilePhoto">
              
              <img   src="{{UserUrl}}" alt="">
              <div class="imghover">Change</div>
         
            </div>
            <button class="form-control btn-change-password"  aria-hidden="true" data-toggle="modal" data-target="#ChangePassword">Change Password</button>
          </div>
        </div>

      </div>
      <div class="col-12 col-lg-6  cardColor">
        
        <div class="row cardHeader">

            <div class=" align-items-baseline  d-flex  px-3 ">
                <p class="m-0 px-2 user-circle"><i class="fa fa-cog  " aria-hidden="true"></i></p>
                <h5 class="headUser titleHover">Color Site</h5>
            </div>
    
        </div>
      <div class="row cardBody">
        <div class="col-3 ">
          <div class="colorDiv blue"   (click)="ChangeColorSite('rgb(85, 185, 244)')"></div>
        </div>
        <div class="col-3 ">
          <div class="colorDiv red"  (click)="ChangeColorSite('rgb(204, 64, 74)')"></div>
        </div>
        <div class="col-3 ">
          <div class="colorDiv green" (click)="ChangeColorSite('rgb(99, 197, 88)')"></div>
        </div>
        <div class="col-3 ">
          <div class="colorDiv defult" (click)="ChangeColorSite('rgb(227, 108, 81)')"></div>
        </div>
        
  
      </div>

    </div>
      
    </div>

  </div>


</section>

<section class="s1">
      <div class="row cardHeader">

        <div class=" align-items-baseline  d-flex  px-3 ">
            <p class="m-0 px-2 user-circle"><i class="fa fa-tasks " aria-hidden="true"></i></p>
            <h5 class="headUser titleHover">Plan</h5>
        </div>

    </div>
    <div class="col-12">
         
  
      <div class="row">
  
          
  
          <!-- //////////////////////////////////////////////////////////PLAN//////////////////////////////////////////////////// -->
          <div class="plan col-12" *ngIf="day1.length !=0 || day2.length !=0 || day3.length !=0 || day4.length !=0 || day5.length !=0 || day6.length !=0 || day7.length !=0 || ExSystem.length!=0">
         
            <div class="container text-center" style="padding-left: 24px " *ngIf="day1.length !=0 || day2.length !=0 || day3.length !=0 || day4.length !=0 || day5.length !=0 || day6.length !=0 || day7.length !=0">
              
              <div class="borderstyly" > 
            
              <div class="daytable" *ngIf="day1.length !=0 ">
              <h3 class="day">Day1</h3>
              <table class="table" style="color: white;">
                <thead>
                  <tr>
                    
                    <th scope="col">Name Meal</th>
                    <th scope="col">Content Meal</th>
                    <th scope="col">Calories </th>
                    <th scope="col">Protein </th>
                    <th scope="col">Carb </th>
                    <th scope="col">Fat </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of day1; let i=index" class="content" >
                    <th  scope="row">{{item.NumMeal}}</th>
                    <div class="nameMealAndAmount" *ngFor="let item2 of item.SelFoods" >{{item2.name}} {{item2.amount}} <span *ngIf="item2.amount>10" >g</span></div>
                    <td>{{item.caloriesOfMeal}}</td>
                    <td>{{item.proteinOfMeal}}</td>
                    <td>{{item.carbOfMeal}}</td>
                    <td>{{item.fatOfMeal}}</td>
  
                    
                  
                  
                  </tr>
                
                </tbody>
              </table>
            </div>
          
  
            <div class="daytable" *ngIf="day2.length !=0 ">
              <h3 class="day">Day2</h3>
              <table class="table">
                <thead>
                  <tr>
                    
                    <th scope="col">Name Meal</th>
                    <th scope="col">Content Meal</th>
                    <th scope="col">Calories In Meal</th>
                    <th scope="col">Protein </th>
                    <th scope="col">Carb </th>
                    <th scope="col">Fat </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of day2; let i=index" class="content" >
                    <th  scope="row">{{item.NumMeal}}</th>
                    <div *ngFor="let item2 of item.SelFoods" >{{item2.name}} {{item2.amount}} <span *ngIf="item2.amount>10">g</span></div>
                    <td>{{item.caloriesOfMeal}}</td>
                    <td>{{item.proteinOfMeal}}</td>
                    <td>{{item.carbOfMeal}}</td>
                    <td>{{item.fatOfMeal}}</td>
                    
                  
                  
                  </tr>
                
                </tbody>
              </table>
            </div>
            <div class="daytable" *ngIf="day3.length !=0 ">
              <h3 class="day">Day3</h3>
              <table class="table">
                <thead>
                  <tr>
                    
                    <th scope="col">Name Meal</th>
                    <th scope="col">Content Meal</th>
                    <th scope="col">Calories In Meal</th>
                    <th scope="col">Protein </th>
                    <th scope="col">Carb </th>
                    <th scope="col">Fat </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of day3; let i=index" class="content" >
                    <th  scope="row">{{item.NumMeal}}</th>
                    <div *ngFor="let item2 of item.SelFoods" >{{item2.name}} {{item2.amount}} <span *ngIf="item2.amount>10">g</span></div>
                    <td>{{item.caloriesOfMeal}}</td>
                    <td>{{item.proteinOfMeal}}</td>
                    <td>{{item.carbOfMeal}}</td>
                    <td>{{item.fatOfMeal}}</td>
                    
                  
                  
                  </tr>
                
                </tbody>
              </table>
            </div>
            <div class="daytable" *ngIf="day4.length !=0 ">
              <h3 class="day">Day4</h3>
              <table class="table">
                <thead>
                  <tr>
                    
                    <th scope="col">Name Meal</th>
                    <th scope="col">Content Meal</th>
                    <th scope="col">Calories In Meal</th>
                    <th scope="col">Protein </th>
                    <th scope="col">Carb </th>
                    <th scope="col">Fat </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of day4; let i=index" class="content" >
                    <th  scope="row">{{item.NumMeal}}</th>
                    <div *ngFor="let item2 of item.SelFoods" >{{item2.name}} {{item2.amount}} <span *ngIf="item2.amount>10">g</span></div>
                    <td>{{item.caloriesOfMeal}}</td>
                    <td>{{item.proteinOfMeal}}</td>
                    <td>{{item.carbOfMeal}}</td>
                    <td>{{item.fatOfMeal}}</td>
                    
                  
                  
                  </tr>
                
                </tbody>
              </table>
            </div>
            <div class="daytable" *ngIf="day5.length !=0 ">
              <h3 class="day">Day5</h3>
              <table class="table">
                <thead>
                  <tr>
                    
                    <th scope="col">Name Meal</th>
                    <th scope="col">Content Meal</th>
                    <th scope="col">Calories In Meal</th>
                    <th scope="col">Protein </th>
                    <th scope="col">Carb </th>
                    <th scope="col">Fat </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of day5; let i=index" class="content" >
                    <th  scope="row">{{item.NumMeal}}</th>
                    <div *ngFor="let item2 of item.SelFoods" >{{item2.name}} {{item2.amount}} <span *ngIf="item2.amount>10">g</span></div>
                    <td>{{item.caloriesOfMeal}}</td>
                    <td>{{item.proteinOfMeal}}</td>
                    <td>{{item.carbOfMeal}}</td>
                    <td>{{item.fatOfMeal}}</td>
                    
                  
                  
                  </tr>
                
                </tbody>
              </table>
            </div>
            <div class="daytable" *ngIf="day6.length !=0 ">
              <h3 class="day">Day6</h3>
              <table class="table">
                <thead>
                  <tr>
                    
                    <th scope="col">Name Meal</th>
                    <th scope="col">Content Meal</th>
                    <th scope="col">Calories In Meal</th>
                    <th scope="col">Protein </th>
                    <th scope="col">Carb </th>
                    <th scope="col">Fat </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of day6; let i=index" class="content" >
                    <th  scope="row">{{item.NumMeal}}</th>
                    <div *ngFor="let item2 of item.SelFoods" >{{item2.name}} {{item2.amount}} <span *ngIf="item2.amount>10">g</span></div>
                    <td>{{item.caloriesOfMeal}}</td>
                    <td>{{item.proteinOfMeal}}</td>
                    <td>{{item.carbOfMeal}}</td>
                    <td>{{item.fatOfMeal}}</td>
                    
                  
                  
                  </tr>
                
                </tbody>
              </table>
            </div>
            <div class="daytable" *ngIf="day7.length !=0 ">
              <h3 class="day">Day7</h3>
              <table class="table">
                <thead>
                  <tr>
                    
                    <th scope="col">Name Meal</th>
                    <th scope="col">Content Meal</th>
                    <th scope="col">Calories In Meal</th>
                    <th scope="col">Protein </th>
                    <th scope="col">Carb </th>
                    <th scope="col">Fat </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of day7; let i=index" class="content" >
                    <th  scope="row">{{item.NumMeal}}</th>
                    <div *ngFor="let item2 of item.SelFoods" >{{item2.name}} {{item2.amount}} <span *ngIf="item2.amount>10">g</span></div>
                    <td>{{item.caloriesOfMeal}}</td>
                    <td>{{item.proteinOfMeal}}</td>
                    <td>{{item.carbOfMeal}}</td>
                    <td>{{item.fatOfMeal}}</td>
                    
                  
                  
                  </tr>
                
                </tbody>
              </table>
            
            </div>
  
  
                <button style="margin-bottom: 2%;" (click)="AddAnotherDay()" class="anotherDay" *ngIf="day1.length == 0 || day2.length ==  0 || day3.length == 0 || day4.length == 0 || day5.length == 0 || day6.length == 0 || day7.length == 0">Add Another Day</button>
                <br>
                <span style="opacity: 0.6;
                font-family: Andale Mono;"> If You Add The Same Day Diet The Old Day Will Remove </span>
            </div>
            
  
  
          </div>
          <div class="container text-center">
            
            <div class="borderstylyEX" > 
          
            <div class="daytable"  *ngIf="ExSystem.length!=0" >
            <h3 class="day">Exercise:{{ExSystemName}}</h3>
            <table class="table" style="color: white;">
              <thead>
                <tr *ngFor="let item of ExSystem; let i=index">
                  <th scope="col">{{item.day}}</th>
                  <th (click)="ShowDataEx(i)" class="nameday" data-toggle="modal" data-target="#EXdata" scope="col">{{item.nameDay}}</th>
                </tr>
              </thead>
  
            
            </table>
            
  
          </div>
          <span style="opacity: 0.6;
          font-family: Andale Mono;">If You Add Another Exrecise The Old Will Remove </span>
      
  
          
        
        
  
        </div>
        </div>
  
        </div> 
        <div   class="emptyplan col-12 text-center"    *ngIf="day1.length ==0 && day2.length ==0 && day3.length ==0 && day4.length ==0 && day5.length ==0 && day6.length ==0 && day7.length ==0 && ExSystem.length==0 " >
          <button style="
          width: 40%;
         margin: 3% auto;
          color: white;
          background:var(--maincolor);;
          " 
          class="form-control CreateYourPlan"
          (click)="createplan()"
          >
            Create Your Plan
  
          </button>
        
        </div>
      </div>
    </div>
  </section>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
    <!-- //////////////////////////////////////change Profile photo//////////////////// -->
    <div class="modal fade" id="ChangeProfilePhoto" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Change Profile Photo</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
              <label class="btn btn-default"> <input type="file"
                  (change)="SelectImg($event)">
                </label>
                 
                <button class="btn btn-success" [disabled]="!selectedFiles"
                                (click)="DeleteProfileImg()">Upload</button>
                  
                
                
              <div *ngIf="currentFileUpload" class="progress">
                <div class="progress-bar progress-bar-info progress-bar-striped"
                  role="progressbar" attr.aria-valuenow="{{percentage}}"
                  aria-valuemin="0" aria-valuemax="100"
                  [ngStyle]="{width:percentage+'%'}">
                  {{percentage}}%</div>
              </div>
          </div>
          <div class="modal-footer">
            
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary"  (click)="updateProfilePhoto()" [disabled]="percentage!=100 || load==true">Save</button>
            <div *ngIf="percentage==100 && load==true">
            <i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i>
            <span >Loading...</span>
          </div>
          </div>
        </div>
      </div>
    </div>
        <!-- ///////////////////////change UserName//////////////////////// -->
        <form  [formGroup]="formChangeUserName"  (ngSubmit)="updateUserName()">
        <div class="modal fade" id="ChangeUserName" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"  aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Change UserName</h5>
                <button type="button" (click)="onResetchaneUserName()" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="margin-bottom col-12">
                  <input class="form-control" formControlName="UserName" [ngClass]="{ 'is-invalid': submittedChangeUserName && f_ChangeUserName.UserName.errors }"  name="UserName" type="text" placeholder="User Name">
                  <div *ngIf="submittedChangeUserName && f_ChangeUserName.UserName.errors" class="invalid-feedback">
                    <div *ngIf="f_ChangeUserName.UserName.errors.required">User Name is required</div>
                 </div> 
                </div>              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="onResetchaneUserName()" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary" >Save</button>
              </div>
            </div>
          </div>
        </div> 
      </form>
        <!-- ///////////////////////////////// showEX/////////////////////////////////////// -->
        <div class="container" >
        
              <!-- Modal -->
              <div class="modal fade" id="EXdata" role="dialog" >
                <div class="modal-dialog">
                
                  <!-- Modal content-->
                  <div class="modal-content">
                    <div class="modal-header">
                      <h3>{{NameDayExSystemaData}}</h3>
                      <button type="button" class="close"  data-dismiss="modal">&times;</button>
                      
                    
                    </div>
                    <div class="modal-body text-center" *ngFor="let item of this.ExSystemaData; let i=index">
                      
                      <div class="NameExEdite">
                        EXRECISE{{i+1}}:  {{item.name}}
                      </div>
                      <img class="photoExselect " src="{{item.photo}}" alt="NoPhoto">
                      
                    
                      
          
          
                  </div>
                  
                </div>
              </div>
          
            </div>
            
       </div>
       <!-- ///////////////////////change Password//////////////////////// -->
       <form [formGroup]="formChangePassword"  (ngSubmit)="chanepass()" >
        <div class="modal fade" id="ChangePassword" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false" >
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Change Password</h5>
                <button type="button"  (click)="onResetchanepass()" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="margin-bottom col-12">
                  <input class="form-control" formControlName="oldpass" [ngClass]="{ 'is-invalid': submittedChangePass && f_ChangePassword.oldpass.errors }"  name="oldpass" type="password" placeholder="Old Password">
                  <div *ngIf="submittedChangePass && f_ChangePassword.oldpass.errors" class="invalid-feedback">
                    <div *ngIf="f_ChangePassword.oldpass.errors.required">Old Password is required</div>
                 </div> 
                </div>
                <div class="margin-bottom col-12">
                  <input class="form-control" formControlName="newpass" [ngClass]="{ 'is-invalid': submittedChangePass && f_ChangePassword.newpass.errors }"  name="newpass" type="password" placeholder="New Password">
                  <div *ngIf="submittedChangePass && f_ChangePassword.newpass.errors" class="invalid-feedback">
                    <div *ngIf="f_ChangePassword.newpass.errors.required">New Password is required</div>
                    <div *ngIf="f_ChangePassword.newpass.errors.minlength">New Password must be at least 6 characters</div>
                    <div *ngIf="f_ChangePassword.confirmPass.errors.mustMatch">Passwords must match</div>
                 </div> 
                </div>
                <div class="margin-bottom col-12">
                  <input class="form-control" formControlName="confirmPass" [ngClass]="{ 'is-invalid': submittedChangePass && f_ChangePassword.confirmPass.errors }"  name="confirmPass" type="password" placeholder="Confirm Password">
                  <div *ngIf="submittedChangePass && f_ChangePassword.confirmPass.errors" class="invalid-feedback">
                    <div *ngIf="f_ChangePassword.confirmPass.errors.required">Confirm Password is required</div>
                    <div *ngIf="f_ChangePassword.confirmPass.errors.mustMatch">Passwords must match</div>
                    
                 </div> 
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="onResetchanepass()" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary" >Save</button>
              </div>
            </div>
          </div>
        </div>   
       </form>
    



            

    
